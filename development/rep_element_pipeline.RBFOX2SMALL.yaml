#!/usr/bin/env rep_element_pipeline.cwl

# read1 barcode1 fastq (trimmed for quality)
barcode1R1FastqGz:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R1.A01_204_01_RBFOX2.adapterTrim.round2.fastq.gz

# read2 barcode1 fastq (trimmed for quality)
barcode1R2FastqGz:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R2.A01_204_01_RBFOX2.adapterTrim.round2.fastq.gz

# read1 barcode2 fastq (trimmed for quality)
barcode2R1FastqGz:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R1.B06_204_01_RBFOX2.adapterTrim.round2.fastq.gz

# read2 barcode2 fastq (trimmed for quality)
barcode2R2FastqGz:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R2.B06_204_01_RBFOX2.adapterTrim.round2.fastq.gz

# barcode1 BAM file (2nd STAR mapping, after rep element removal)
barcode1RmRepBAM:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R1.A01_204_01_RBFOX2.adapterTrim.round2.rmRep.bam

# barcode2 BAM file (2nd STAR mapping, after rep element removal)
barcode2RmRepBAM:
  class: File
  path: /projects/ps-yeolab3/encode/analysis/encode_master/RBFOX2-204-CLIP_S1_R1.B06_204_01_RBFOX2.adapterTrim.round2.rmRep.bam

# temporary intermediate files
barcode1OutputSAMFile: tmp.barcode1.repmapped.sam

barcode1FinalOutputSAMFile: tmp.barcode1.final.sam

barcode1FinalOutputParsedFile: tmp.barcode1.final.sam.parsed

barcode2OutputSAMFile: tmp.barcode2.repmapped.sam

barcode2FinalOutputSAMFile: tmp.barcode2.final.sam

barcode2FinalOutputParsedFile: tmp.barcode2.final.sam.parsed

# reference files (FOR HUMAN ONLY)
bowtieReferenceTar:
  class: File
  path: /home/bay001/projects/codebase/repetitive-element-mapping/data/gzfiles/bowtie_reference.tar

parseBowtie2OutputRealtimeIncludefamilyPerlScript:
  class: File
  path: /home/bay001/projects/codebase/repetitive-element-mapping/bin/parse_bowtie2_output_realtime_includemultifamily.pl

gencodeGTF:
  class: File
  path: /projects/ps-yeolab/genomes/hg19/gencode_v19/gencode.v19.chr_patch_hapl_scaff.annotation.gtf

gencodeTableBrowser:
  class: File
  path: /projects/ps-yeolab/genomes/hg19/gencode_v19/gencode.v19.chr_patch_hapl_scaff.annotation.gtf.parsed_ucsc_tableformat

repMaskBEDFile:
  class: File
  path: /home/bay001/projects/codebase/repetitive-element-mapping/data/reference_data/RepeatMask.bed

fileListFile1:
  class: File
  path: /home/bay001/projects/codebase/repetitive-element-mapping/data/bowtie_reference/MASTER_filelist.wrepbaseandtRNA.enst2id.fixed.UpdatedSimpleRepeat

fileListFile2:
  class: File
  path: /home/bay001/projects/codebase/repetitive-element-mapping/data/reference_data/ALLRepBase_elements.id_table.FULL

prefixes: ["AA","AC","AG","AT","AN","CA","CC","CG","CT","CN","GA","GC","GG","GT","GN","TA","TC","TG","TT","TN","NA","NC","NG","NT","NN"]

# Final output files
finalOutput: RBFOX2.repelement.final.sam

finalOutputParsed: RBFOX2.repelement.final.sam.parsed